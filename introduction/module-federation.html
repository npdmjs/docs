<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Module Federation | NP(D)M</title>
    <meta name="description" content="Documentation for NPDM">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/docs/assets/style.DzibAbwn.css" as="style">
    
    <script type="module" src="/docs/assets/app.BSN1lS-6.js"></script>
    <link rel="preload" href="/docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/assets/chunks/framework.DZ20Tprd.js">
    <link rel="modulepreload" href="/docs/assets/chunks/theme.DmJ8ZzIS.js">
    <link rel="modulepreload" href="/docs/assets/chunks/katex.rPiVaalG.js">
    <link rel="modulepreload" href="/docs/assets/chunks/c4Diagram-ae766693.CYVAOfD6.js">
    <link rel="modulepreload" href="/docs/assets/chunks/flowDiagram-b222e15a.1bp-9edj.js">
    <link rel="modulepreload" href="/docs/assets/chunks/flowDiagram-v2-13329dc7.tue3lRtf.js">
    <link rel="modulepreload" href="/docs/assets/chunks/erDiagram-09d1c15f.I4bHvQYZ.js">
    <link rel="modulepreload" href="/docs/assets/chunks/gitGraphDiagram-942e62fe.D59XIlyF.js">
    <link rel="modulepreload" href="/docs/assets/chunks/ganttDiagram-b62c793e.CuvquLRz.js">
    <link rel="modulepreload" href="/docs/assets/chunks/infoDiagram-94cd232f.6Kd99TgL.js">
    <link rel="modulepreload" href="/docs/assets/chunks/pieDiagram-bb1d19e5.DDHgOagx.js">
    <link rel="modulepreload" href="/docs/assets/chunks/quadrantDiagram-c759a472.i7H8eUml.js">
    <link rel="modulepreload" href="/docs/assets/chunks/xychartDiagram-f11f50a6.6uEhint2.js">
    <link rel="modulepreload" href="/docs/assets/chunks/requirementDiagram-87253d64.B9Z6X1mI.js">
    <link rel="modulepreload" href="/docs/assets/chunks/sequenceDiagram-6894f283.DfhUST49.js">
    <link rel="modulepreload" href="/docs/assets/chunks/classDiagram-fb54d2a0.zGBI-vPj.js">
    <link rel="modulepreload" href="/docs/assets/chunks/classDiagram-v2-a2b738ad.1HfVV1ac.js">
    <link rel="modulepreload" href="/docs/assets/chunks/stateDiagram-5dee940d.Ps2PU23q.js">
    <link rel="modulepreload" href="/docs/assets/chunks/stateDiagram-v2-1992cada.B29XJRAF.js">
    <link rel="modulepreload" href="/docs/assets/chunks/journeyDiagram-6625b456.DR5se5xv.js">
    <link rel="modulepreload" href="/docs/assets/chunks/flowchart-elk-definition-ae0efee6.CCoTgEKY.js">
    <link rel="modulepreload" href="/docs/assets/chunks/timeline-definition-bf702344.s19wF-gL.js">
    <link rel="modulepreload" href="/docs/assets/chunks/mindmap-definition-307c710a.CU4MUXOf.js">
    <link rel="modulepreload" href="/docs/assets/chunks/sankeyDiagram-707fac0f.BJUiuRiD.js">
    <link rel="modulepreload" href="/docs/assets/chunks/blockDiagram-9f4a6865.BRPQj1Zl.js">
    <link rel="modulepreload" href="/docs/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/docs/assets/introduction_module-federation.md.DTniLfQu.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/docs/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>NP(D)M</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/introduction/why-npdm.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Documentation</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/orgs/npdmjs/repositories" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/orgs/npdmjs/repositories" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Introduction</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/introduction/why-npdm.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Why NP(D)M?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/introduction/system-components.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>System Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/introduction/module-federation.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Module Federation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/introduction/example.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Example</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/introduction/contribution.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Contribution</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>API Reference</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/api-reference/npdm-core.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>@npdm/core</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/api-reference/npdm-express.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>@npdm/express</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/api-reference/npdm-module-federation.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>@npdm/module-federation</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _docs_introduction_module-federation" data-v-39a288b8><div><h1 id="module-federation" tabindex="-1">Module Federation <a class="header-anchor" href="#module-federation" aria-label="Permalink to &quot;Module Federation&quot;">​</a></h1><h2 id="preface" tabindex="-1">Preface <a class="header-anchor" href="#preface" aria-label="Permalink to &quot;Preface&quot;">​</a></h2><p>Since NPDM server only serves static files from the NPM packages, to use remote components as microfrontends, we need some other technology. The-state-of-art solution is the <a href="https://module-federation.io/" target="_blank" rel="noreferrer">Module Federation</a>.</p><p>This article describes a proof-of-concept of the approach which can be used to implement versioned microfrontends with deployment through the NPDM server. To integrate NPDM server with the Module Federation, a few abstractions were introduced.</p><p>To check example implementation, refer to the <a href="./example.html">Example</a> article.</p><h2 id="abstractions" tabindex="-1">Abstractions <a class="header-anchor" href="#abstractions" aria-label="Permalink to &quot;Abstractions&quot;">​</a></h2><h3 id="package-specification" tabindex="-1">Package Specification <a class="header-anchor" href="#package-specification" aria-label="Permalink to &quot;Package Specification&quot;">​</a></h3><p>Package specification describes a versioned remote component (microfrontend). It should contain information, in which NPM package the remote module should be found, and its default version, which has to be changed later in runtime. Another important part of the package specification is the field <code>remoteEntryRelativePath</code> which defines the path to the entry file, relative to the root of the NPM package. Package specification has type <a href="./../api-reference/npdm-module-federation.html#dynamicpackagespec">DynamicPackageSpec</a>.</p><p>Here is an example of the package specification:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { DynamicPackageSpec } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@npdm/module-federation&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> packageSpec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DynamicPackageSpec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // where the remote component is placed:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  packageName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;npdmjs-react-example&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // default package version, which is changed in runtime:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  packageVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // path to the Module Federation entry file in the package:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  remoteEntryRelativePath: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/npdm/entry.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="dynamic-module" tabindex="-1">Dynamic Module <a class="header-anchor" href="#dynamic-module" aria-label="Permalink to &quot;Dynamic Module&quot;">​</a></h3><p>If package specification defines the remote, the dynamic module defines and describes particular module which is <a href="https://module-federation.io/configure/exposes.html" target="_blank" rel="noreferrer">exposed</a> in this remote.</p><p>Because we can use dynamic modules from the different package versions, each module should include its package specification. First reason why dynamic module exists as an object an abstraction is that we should define exposed component as the part of the versioned package. The second reason is that dynamic module plays the role of an interface which defines rules of how this component should be used. Here is the example of the dynamic module:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { packageSpec } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./packageSpec.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { FC } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { DynamicModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@npdm/module-federation&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WonderfulButtonProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// our React component type</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WonderfulButtonType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WonderfulButtonProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wonderfulButtonModule</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DynamicModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // this will be module, which contains default component</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WonderfulButtonType</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // in the &#39;exposes&#39; field in ModuleFederationPlugin:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // &#39;./Button&#39;: &#39;./src/components/WonderfulButton.tsx&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exposedPath: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/Button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // we use some exiting package specification</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  packageSpec,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="recommended-rules" tabindex="-1">Recommended Rules <a class="header-anchor" href="#recommended-rules" aria-label="Permalink to &quot;Recommended Rules&quot;">​</a></h2><p>Both package and dynamic module specifications supposed to define interfaces which can allow safe usage of the remote modules in the host application.</p><p>In the proposed approach we put all the specifications into the package first of all for the sake of the semantic versioning. The logic behind it is that when interface of the component changes, we have to update our consumer applications accordingly anyway. Such an approach can lose in terms of flexibility comparing to the <a href="https://module-federation.io/guide/basic/type-prompt.html" target="_blank" rel="noreferrer">Module Federation remote types</a>, but at the same time we can guarantee during local testing that interfaces will be aligned with the remote modules.</p><p>The next rules can be recommended to achieve maximal stability:</p><ol><li><p><strong>Package specification should not be changed during package lifetime, except if only default <code>packageVersion</code></strong>. To ensure safe switching between different modules we should make sure that the entry point and remote name stays the same.</p></li><li><p><strong>Each breaking change in the dynamic module specification should be published with the new major version.</strong> In the future versions of <code>@npdm/module-federation</code> we may add validation logic to make sure that version of remote module which was set dynamically during runtime aligns with the major version of the package used in the application.</p></li><li><p><strong>Each change in the dynamic module specification which is not breaking, should be published with the new minor version of the package</strong>. In case if in your application you want to use new features from the remote module, you should upgrade package version to get new interfaces.</p></li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/docs/introduction/system-components.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Previous page</span><span class="title" data-v-d4a0bba5>System Components</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/docs/introduction/example.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Next page</span><span class="title" data-v-d4a0bba5>Example</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"introduction_example.md\":\"-waC0FW1\",\"api-reference_npdm-core.md\":\"vtDy3WZV\",\"introduction_contribution.md\":\"BY82F-ce\",\"introduction_module-federation.md\":\"DTniLfQu\",\"index.md\":\"BKTv4g0W\",\"api-reference_npdm-express.md\":\"Cn_S8rjE\",\"api-reference_npdm-module-federation.md\":\"BMRVaM4P\",\"introduction_why-npdm.md\":\"B0QznTY7\",\"introduction_system-components.md\":\"BZjbtz6J\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"NP(D)M\",\"description\":\"Documentation for NPDM\",\"base\":\"/docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Documentation\",\"link\":\"/introduction/why-npdm\"}],\"sidebar\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"Why NP(D)M?\",\"link\":\"/introduction/why-npdm\"},{\"text\":\"System Components\",\"link\":\"/introduction/system-components\"},{\"text\":\"Module Federation\",\"link\":\"/introduction/module-federation\"},{\"text\":\"Example\",\"link\":\"/introduction/example\"},{\"text\":\"Contribution\",\"link\":\"/introduction/contribution\"}]},{\"text\":\"API Reference\",\"items\":[{\"text\":\"@npdm/core\",\"link\":\"/api-reference/npdm-core\"},{\"text\":\"@npdm/express\",\"link\":\"/api-reference/npdm-express\"},{\"text\":\"@npdm/module-federation\",\"link\":\"/api-reference/npdm-module-federation\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/orgs/npdmjs/repositories\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>